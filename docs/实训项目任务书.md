# 实训项目任务书（training24-tomcat）

## 一、项目简介
- 项目名称：Java Web 课程管理与选课系统（基于 Tomcat/WTP）
- 项目目标：面向 Web 初学者，掌握 Servlet、HTTP 参数解析、会话管理、内存数据结构、前后端联调与部署。
- 项目特性：无需外部数据库，使用内存数据结构（Map/List）模拟；支持课程创建/更新/删除、学生选课/退课/候补转正、成绩与推荐、管理员统计与日志。

## 二、运行环境
- IDE：Eclipse IDE for Enterprise Java and Web Developers（含 WTP）
- JDK：1.8（JavaSE-1.8）
- 服务器：Apache Tomcat v8.5（或兼容版本）
- 浏览器：Chrome/Edge

## 三、项目结构与关键模块
- 前端页面：`WebRoot/index.html`、`students.html`、`courses.html`、`enroll.html`、`admin.html`
- 后端 Servlet：
  - `UserServlet`：注册、登录、注销、密码重置
  - `CourseServlet`：课程增删改查与过滤
  - `EnrollServlet`：选课、退课、候补队列管理
  - `StudentServlet`：课表、成绩、推荐、CSV 导出
  - `AdminServlet`：系统统计与日志查询
- 工具与轻量框架：
  - `lwFormData`：统一解析 GET/POST 参数
  - `lwWebException`：统一业务异常与错误码
  - `SimpleRestful`：统一响应封装（成功/失败）
  - `TextFile`：CSV 导出写文件
- DAO 层：`com.training.dao.*` 与 `DaoFactory`（默认内存实现，易于替换数据库）
- 核心内存数据库：`Db` 类，管理用户、课程、选课、候补、成绩、日志与统计；Web 层通过 `DaoFactory` 间接访问

## 四、学习目标（按能力分层）
- 基础：理解 Servlet 生命周期、请求与响应、GET/POST 参数解析、Session 使用
- 进阶：实现课程的增删改查、选课冲突判断、候补队列与退课转正、CSV 导出
- 综合：前后端联调、部署到 Tomcat、可执行的项目演示与文档撰写

## 五、任务内容与交付物
- 代码：在现有项目基础上完成需求并保证可运行
- 文档：
  1) 《实训项目指导书》：步骤详解与代码走读（本次已扩写）
  2) 《操作手册》：部署、构建与排错、接口使用说明（本次已扩写）
  3) 《学生扩展任务书（24 学时）》：扩展项详细实现步骤与验收（本次已扩写）
- 演示：本地启动后完成端到端操作演示（注册/登录、课程管理、选课、成绩/导出、统计/日志）

## 六、进度安排（建议：8 次课 × 3 学时 = 24 学时）
1. 环境搭建与导入（3 学时）：WTP 导入、绑定 Tomcat、运行基础页面与示例接口
2. HTTP 与 Servlet 入门（3 学时）：参数解析、会话管理、统一响应、异常处理
3. 内存数据结构与业务建模（3 学时）：读懂 `Db`/DAO 与增删改查实现（Web 层通过 `DaoFactory` 调用）
4. 用户模块与认证（3 学时）：注册、登录、密码重置、Session 维护
5. 课程管理（3 学时）：创建/更新/删除、过滤与列表展示
6. 选课与候补（3 学时）：冲突检测、候补加入、退课转正、日志记录
7. 学生端功能（3 学时）：课表生成、成绩管理、CSV 导出
8. 管理员与综合演示（3 学时）：统计、日志查询、扩展任务拆解与分工

## 七、考核标准（示例）
- 功能完整度（40%）：关键接口可用、前端页面可演示
- 代码质量（25%）：结构清晰、注释完善、一致性良好（面向初学者注释到位）
- 文档与演示（20%）：操作手册、指导书与扩展任务书完整，演示无阻碍
- 扩展实现（15%）：完成至少 2 项扩展功能（见扩展任务书）

## 八、提交与验收
- 提交内容：源码、四份文档、演示视频（可选）
- 验收方式：现场运行/远程演示；按考核标准评分

## 九、验收与自测清单（新增）
- 环境与启动
  - 能在 `Apache Tomcat v8.5` 下运行，主页可访问
  - JDK 版本为 `1.8`；如出现类版本错误，能按《操作手册》重编译到 Java 8
- 用户与课程
  - 注册成功并能登录；Session 中可获取当前用户
  - 课程创建/更新/删除与过滤可用；分页显示正常（如已实现）
- 选课与候补
  - 选课成功返回 `enrolled`；容量满返回 `waitlist`；冲突返回详细 `reason`
  - 退课后有候补时可转正并记录日志
- 学生端与导出
  - 课表/成绩/推荐显示正常；CSV 导出文件存在且可在 Excel 打开
- 管理员端
  - 统计展示用户数、课程数、选课总数；日志查询可按条件分页（如已实现）
- 前端一致性
  - `enroll.html` “已选”列：管理员显示总人数；学生显示“是/否”，未加载显示 `—`
  - 所有请求检查 `error==0`；失败展示后端返回的 `reason`

## 十、注释与规范（验收关注点）
- 后端：每个 Servlet 顶部给出职责说明、支持的 `action`、输入/输出示例；复杂分支处有行级注释
- 前端：关键渲染逻辑（如角色检测与渲染顺序）有明确注释；请求封装与错误展示有说明
- 命名与一致性：参数与返回键统一；日志打点关键动作可被查询